(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CgF7:function(t,e,n){"use strict";n.r(e),n.d(e,"ChatModule",(function(){return qn}));var o=n("tyNb"),r=n("fXoL"),i=n("HDdC"),s=n("quSY");class a extends s.a{constructor(t,e){super()}schedule(t,e=0){return this}}class l extends a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,o=void 0;try{this.work(t)}catch(r){n=!0,o=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),o}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,o=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&n.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let c=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class h extends c{constructor(t,e=c.now){super(t,()=>h.delegate&&h.delegate!==this?h.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return h.delegate&&h.delegate!==this?h.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const u=new h(l);var d=n("DH7j");function g(t=0,e=u){var n;return n=t,(Object(d.a)(n)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=u),new i.a(n=>(n.add(e.schedule(p,t,{subscriber:n,counter:0,period:t})),n))}function p(t){const{subscriber:e,counter:n,period:o}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:o},o)}var b=n("l7GE"),m=n("ZUHj");function f(t){return e=>e.lift(new C(t))}class C{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new _(t,this.durationSelector))}}class _ extends b.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1,this.durationSubscription=null}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(m.a)(this,e),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(t,e,n,o,r){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=null,e.unsubscribe(),this.remove(e)),this.value=null,this.hasValue=!1,super._next(t)}}}var y=function(t){return t.BLACK="#000000",t.DARK="#202020",t.DARKGRAY="#2a292f",t.WHITE="#ffffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.BLUE="#0000ff",t.PINK="#ff00ff",t.GREEN="#00ff00",t.SNOW="#f0f0f0",t.CYAN="#00ffff",t.LIGHTRED="#b33430",t.LIGHTYELLOW="#c59b2b",t.TRANSPARENT="transparent",t}({}),v=function(t){return t.NONE="none",t}({});const O={color:y.SNOW},w={color:y.BLACK,rotate:0},M={color:y.WHITE,height:50,width:200,radius:4},P={color:y.WHITE,width:100,height:80,radius:100},x={color:y.BLACK,clip:v.NONE,width:50,height:80,radius:15},E={left:{top:{rotate:0,closed:1},bot:{rotate:10,closed:6}},right:{top:{rotate:0,closed:1},bot:{rotate:-10,closed:6}}};var S=function(t){return t[t.CONTAINER_X=5]="CONTAINER_X",t[t.CONTAINER_Y=10]="CONTAINER_Y",t}({}),L=function(t){return t[t.MULTIPLY=.01]="MULTIPLY",t}({}),V=function(t){return t[t.EYE_WIDTH=170]="EYE_WIDTH",t[t.EYE_HEIGHT=255]="EYE_HEIGHT",t[t.EYE_GAP=5]="EYE_GAP",t[t.EYE_INNER=.85]="EYE_INNER",t}({});function I(t,e,n){return t>e?e:t<n?n:t}class A{constructor(t,e,n,o,r,i){this.body=t,this.head=e,this.eyebrow=n,this.eye=o,this.iris=r,this.lid=i,this.irisData=function(t,e){const n={x:t.width*L.MULTIPLY*V.EYE_WIDTH*V.EYE_INNER-V.EYE_GAP,y:t.height*L.MULTIPLY*V.EYE_HEIGHT*V.EYE_INNER-V.EYE_GAP},o={x:n.x-e.width,y:n.y-e.height};return{baseSize:n,maxSize:o,minSize:{x:V.EYE_GAP,y:V.EYE_GAP},pixelSize:{x:o.x/2,y:o.y/2}}}(o,r),this.containerData=function(){const t={x:S.CONTAINER_X,y:S.CONTAINER_Y};return{baseRotation:t,maxRotation:{x:t.x,y:t.y},minRotation:{x:-1*t.x,y:-1*t.y},degRotation:{x:0,y:0}}}()}getContainerStyles(){return{transform:`rotateX(${this.containerRotation.x}deg) rotateY(${this.containerRotation.y}deg)`}}getBodyStyles(){return{fill:this.body.color}}getScreenStyles(){return{backgroundColor:this.head.color}}getHeadStyles(){return{transform:`rotate(${this.head.rotate}deg)`}}getViewportStyles(){return{width:V.EYE_WIDTH+"px",height:V.EYE_HEIGHT+"px"}}getEyeStyles(){return{width:this.eye.width+"%",height:this.eye.height+"%",backgroundColor:this.head.color}}getScleraStyles(){return{borderRadius:this.eye.radius+"%",backgroundColor:this.eye.color}}getIrisStyles(){return{backgroundColor:this.iris.color,clipPath:this.iris.clip,width:this.iris.width+"px",height:this.iris.height+"px",borderRadius:this.iris.radius+"%",top:this.irisSize.y+"px",left:this.irisSize.x+"px"}}getLidLeftTopStyles(){return{transform:`rotate(${this.lid.left.top.rotate}deg)`,top:`-${100-this.lid.left.top.closed}%`}}getLidLeftBotStyles(){return{transform:`rotate(${this.lid.left.bot.rotate}deg)`,bottom:`-${100-this.lid.left.bot.closed}%`}}getLidRightTopStyles(){return{transform:`rotate(${this.lid.right.top.rotate}deg)`,top:`-${100-this.lid.right.top.closed}%`}}getLidRightBotStyles(){return{transform:`rotate(${this.lid.right.bot.rotate}deg)`,bottom:`-${100-this.lid.right.bot.closed}%`}}inputMousePosition(t){this.updateIrisData(t),this.updateContainerData(t)}get irisSize(){return this.irisData.pixelSize}get containerRotation(){return this.containerData.degRotation}updateIrisData(t){this.irisData.pixelSize=function(t,e){const n=e.baseSize,o=e.maxSize,r=e.minSize,i={x:n.x*(t.x*L.MULTIPLY),y:n.y*(t.y*L.MULTIPLY)};return{x:I(i.x,o.x,r.x),y:I(i.y,o.y,r.y)}}(t,this.irisData)}updateContainerData(t){this.containerData.degRotation=function(t,e){const n=e.baseRotation,o=e.maxRotation,r=e.minRotation,i={x:2*n.x*(t.x*L.MULTIPLY)-n.x,y:2*n.y*(t.y*L.MULTIPLY)-n.y};return{x:I(i.x,o.x,r.x),y:I(i.y,o.y,r.y)}}(t,this.containerData)}}class N extends A{constructor(){super(O,w,M,P,x,E)}}const k={color:y.SNOW},D={color:y.BLACK,rotate:0},T={color:y.WHITE,height:50,width:200,radius:4},B={color:y.CYAN,width:100,height:30,radius:100},W={color:y.BLACK,clip:v.NONE,width:35,height:30,radius:20},G={left:{top:{rotate:3,closed:30},bot:{rotate:-3,closed:30}},right:{top:{rotate:-3,closed:30},bot:{rotate:3,closed:30}}};class H extends A{constructor(){super(k,D,T,B,W,G)}}const R={color:y.SNOW},j={color:y.BLACK,rotate:-5},z={color:y.WHITE,height:50,width:200,radius:4},U={color:y.PINK,width:100,height:70,radius:100},F={color:y.BLACK,clip:v.NONE,width:40,height:60,radius:50},Y={left:{top:{rotate:0,closed:25},bot:{rotate:0,closed:25}},right:{top:{rotate:0,closed:5},bot:{rotate:0,closed:5}}};class $ extends A{constructor(){super(R,j,z,U,F,Y)}}const q={color:y.SNOW},K={color:y.BLACK,rotate:0},Z={color:y.WHITE,height:50,width:200,radius:4},X={color:y.RED,width:100,height:70,radius:100},J={color:y.BLACK,clip:v.NONE,width:50,height:80,radius:50},Q={left:{top:{rotate:15,closed:30},bot:{rotate:15,closed:-2}},right:{top:{rotate:-15,closed:30},bot:{rotate:-15,closed:-2}}};class tt extends A{constructor(){super(q,K,Z,X,J,Q)}}const et={color:y.SNOW},nt={color:y.BLACK,rotate:0},ot={color:y.WHITE,height:50,width:200,radius:4},rt={color:y.YELLOW,width:100,height:70,radius:100},it={color:y.BLACK,clip:v.NONE,width:55,height:85,radius:40},st={left:{top:{rotate:0,closed:-10},bot:{rotate:20,closed:20}},right:{top:{rotate:0,closed:-10},bot:{rotate:-20,closed:20}}};class at extends A{constructor(){super(et,nt,ot,rt,it,st)}}const lt={color:y.SNOW},ct={color:y.BLACK,rotate:0},ht={color:y.WHITE,height:50,width:200,radius:4},ut={color:y.GREEN,width:100,height:70,radius:100},dt={color:y.BLACK,clip:v.NONE,width:40,height:70,radius:50},gt={left:{top:{rotate:0,closed:40},bot:{rotate:10,closed:-1}},right:{top:{rotate:0,closed:40},bot:{rotate:-10,closed:-1}}};class pt extends A{constructor(){super(lt,ct,ht,ut,dt,gt)}}const bt={color:y.SNOW},mt={color:y.BLACK,rotate:0},ft={color:y.WHITE,height:50,width:200,radius:4},Ct={color:y.BLUE,width:100,height:70,radius:100},_t={color:y.BLACK,clip:v.NONE,width:40,height:70,radius:50},yt={left:{top:{rotate:-30,closed:15},bot:{rotate:0,closed:5}},right:{top:{rotate:30,closed:15},bot:{rotate:0,closed:5}}};class vt extends A{constructor(){super(bt,mt,ft,Ct,_t,yt)}}var Ot=function(t){return t.NONE="none",t}({}),wt=function(t){return t.SMOOTH="smooth",t.SPIKED="spiked",t}({});const Mt={color:y.SNOW,effect:Ot.NONE},Pt={background:y.LIGHTRED,shape:wt.SPIKED,effect:Ot.NONE};class xt{constructor(t,e){this.content=t,this.shape=e}getBalloonStyles(){return{backgroundColor:this.shape.background}}getContentClasses(){return""+this.content.effect}getCornerStyles(){return{borderTopColor:this.shape.background}}getBalloonClasses(){return`${this.shape.shape} ${this.shape.effect}`}getContentStyles(){return{color:this.content.color}}}class Et extends xt{constructor(){super(Mt,Pt)}}const St={color:y.DARK,effect:Ot.NONE},Lt={background:y.SNOW,shape:wt.SMOOTH,effect:Ot.NONE};class Vt extends xt{constructor(){super(St,Lt)}}const It={color:y.SNOW,effect:Ot.NONE},At={background:y.LIGHTYELLOW,shape:wt.SPIKED,effect:Ot.NONE};class Nt extends xt{constructor(){super(It,At)}}var kt=function(t){return t.NONE="none",t}({}),Dt=function(t){return t.ENGINE="engine",t.IMAGE="image",t}({});const Tt={path:"assets/images/pixel.png",effect:Ot.NONE},Bt={wallpaper:Dt.IMAGE,color:y.DARK},Wt={name:kt.NONE,duration:0,offset:0,delay:0};class Gt{constructor(t,e,n){this.metadata=t,this.component=e,this.transition=n}getBackgroundStyles(){return{backgroundColor:this.component.color}}getImageStyles(){return{backgroundImage:`url(${this.metadata.path})`,filter:this.metadata.effect}}}class Ht extends Gt{constructor(){super(Tt,Bt,Wt)}}const Rt={color:y.DARKGRAY},jt={wallpaper:Dt.ENGINE,color:y.DARKGRAY},zt={name:kt.NONE,duration:0,offset:0,delay:0};class Ut extends Gt{constructor(){super(Rt,jt,zt)}}var Ft=n("XNiG");let Yt=(()=>{class t{constructor(){this.botCommandList={CHANGE_EMOTION_NORMAL:new N,CHANGE_EMOTION_ANGRY:new tt,CHANGE_EMOTION_HAPPY:new at,CHANGE_EMOTION_SAD:new vt,CHANGE_EMOTION_CONFUSED:new $,CHANGE_EMOTION_BORED:new pt,CHANGE_EMOTION_CAREFUL:new H},this.chatCommandList={CHANGE_BALLOON_DANGER:new Et,CHANGE_BALLOON_STANDARD:new Vt,CHANGE_BALLOON_WARNING:new Nt},this.wallpaperCommandList={CHANGE_SCENARIO_DARK:new Ht,CHANGE_SCENARIO_ENGINE:new Ut},this.onBotChange=new Ft.a,this.onWallpaperChange=new Ft.a}runCommand(t){const e=this.resolveInstance(t);if(e){const t=e.instance;this[`on${e.type.replace(/\b[a-z]/g,t=>t.toUpperCase())}Change`].next(t)}}resolveCommand(t,e){const n=Object.keys(this[t+"CommandList"]);for(const o of n){const t=o.toLowerCase(),n=e.toLowerCase();if(t.includes(n))return o}}resolveInstance(t){const e=[{type:"bot",commands:this.botCommandList},{type:"chat",commands:this.chatCommandList},{type:"wallpaper",commands:this.wallpaperCommandList}];for(const n of e){const e=n.commands,o=n.type,r=Object.keys(e).indexOf(t),i=e[t];if(-1!==r)return{instance:i,type:o}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $t=n("gde1"),qt=n("ofXK");let Kt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-body"]],inputs:{command:"command"},decls:8,vars:3,consts:[[1,"align"],[1,"wrapper","floating"],["width","455","height","586","viewBox","0 0 455 586","fill","none","xmlns","http://www.w3.org/2000/svg",1,"body",3,"ngStyle"],["d","M71.2119 111.238C93.6458 44.7589 155.989 1.25725e-06 226.151 3.12461e-06V3.12461e-06C295.557 4.97184e-06 357.402 43.8143 380.42 109.292L441.669 283.526C493.604 431.262 383.979 586 227.38 586V586C71.9869 586 -37.5256 433.464 12.1602 286.228L71.2119 111.238Z"],["width","181","height","396","viewBox","0 0 181 396","fill","none","xmlns","http://www.w3.org/2000/svg",1,"arm","left","floating",3,"ngStyle"],["d","M137.071 357.227C133.316 379.607 113.944 396 91.2507 396V396C68.6771 396 49.3701 379.774 45.484 357.538L1.48387 105.766C-8.16456 50.557 34.3233 -2.26184e-05 90.3691 -2.75181e-05V-2.75181e-05C146.166 -3.2396e-05 188.589 50.1332 179.358 105.161L137.071 357.227Z"],["width","181","height","396","viewBox","0 0 181 396","fill","none","xmlns","http://www.w3.org/2000/svg",1,"arm","right","floating",3,"ngStyle"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Ub(),r.Mb(2,"svg",2),r.Ib(3,"path",3),r.Lb(),r.Mb(4,"svg",4),r.Ib(5,"path",5),r.Lb(),r.Mb(6,"svg",6),r.Ib(7,"path",5),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.xb(2),r.Wb("ngStyle",e.command.getBodyStyles()),r.xb(2),r.Wb("ngStyle",e.command.getBodyStyles()),r.xb(2),r.Wb("ngStyle",e.command.getBodyStyles()))},directives:[qt.k],styles:[".align[_ngcontent-%COMP%]{position:absolute;width:100%;height:205px;top:60%;left:0}.align[_ngcontent-%COMP%], .align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{align-items:flex-end;position:relative;width:270px;height:100%;z-index:10;perspective:35px}.align[_ngcontent-%COMP%]   .wrapper.floating[_ngcontent-%COMP%]{animation:floating 2s ease 50ms infinite}.align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:85%;width:auto}.align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .arm[_ngcontent-%COMP%]{position:absolute;height:65%;width:auto}.align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .arm.floating[_ngcontent-%COMP%]{animation:floating 2s ease .1s infinite}.align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .arm.left[_ngcontent-%COMP%]{transform:rotate(20deg);left:-15px;top:40px}.align[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .arm.right[_ngcontent-%COMP%]{transform:rotate(-20deg);right:-15px;top:40px}"]}),t})(),Zt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-eye-left"]],inputs:{command:"command"},decls:7,vars:6,consts:[[1,"viewport",3,"ngStyle"],[1,"eye",3,"ngStyle"],[1,"wrapper"],[1,"sclera",3,"ngStyle"],[1,"lid","top",3,"ngStyle"],[1,"lid","bot",3,"ngStyle"],[1,"iris",3,"ngStyle"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"div",3),r.Ib(4,"div",4),r.Ib(5,"div",5),r.Ib(6,"div",6),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.Wb("ngStyle",e.command.getViewportStyles()),r.xb(1),r.Wb("ngStyle",e.command.getEyeStyles()),r.xb(2),r.Wb("ngStyle",e.command.getScleraStyles()),r.xb(1),r.Wb("ngStyle",e.command.getLidLeftTopStyles()),r.xb(1),r.Wb("ngStyle",e.command.getLidLeftBotStyles()),r.xb(1),r.Wb("ngStyle",e.command.getIrisStyles()))},directives:[qt.k],styles:['.viewport[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%], .viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.15,.65,.95,.95)}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;mix-blend-mode:lighten;filter:blur(.3rem) contrast(25) grayscale(.4)}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]{width:85%;height:85%;position:relative;border-radius:100%;overflow:hidden;box-shadow:0 0 0 8px #000;background:#fff}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;background-color:hsla(0,0%,100%,.35);position:absolute;top:0;left:0}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]   .iris[_ngcontent-%COMP%]{position:absolute;transition:all .6s ease,top 10ms ease,left 10ms ease}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]   .lid[_ngcontent-%COMP%]{position:absolute;width:300%;height:100%;left:-100%;background:#000}']}),t})(),Xt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-eye-space"]],inputs:{command:"command"},decls:1,vars:0,consts:[[1,"space"]],template:function(t,e){1&t&&r.Ib(0,"div",0)},styles:[".space[_ngcontent-%COMP%]{width:10px;height:20px}"]}),t})(),Jt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-eye-right"]],inputs:{command:"command"},decls:7,vars:6,consts:[[1,"viewport",3,"ngStyle"],[1,"eye",3,"ngStyle"],[1,"wrapper"],[1,"sclera",3,"ngStyle"],[1,"lid","top",3,"ngStyle"],[1,"lid","bot",3,"ngStyle"],[1,"iris",3,"ngStyle"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"div",3),r.Ib(4,"div",4),r.Ib(5,"div",5),r.Ib(6,"div",6),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.Wb("ngStyle",e.command.getViewportStyles()),r.xb(1),r.Wb("ngStyle",e.command.getEyeStyles()),r.xb(2),r.Wb("ngStyle",e.command.getScleraStyles()),r.xb(1),r.Wb("ngStyle",e.command.getLidRightTopStyles()),r.xb(1),r.Wb("ngStyle",e.command.getLidRightBotStyles()),r.xb(1),r.Wb("ngStyle",e.command.getIrisStyles()))},directives:[qt.k],styles:['.viewport[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%], .viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.15,.65,.95,.95)}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;mix-blend-mode:lighten;filter:blur(.3rem) contrast(25) grayscale(.4)}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]{width:85%;height:85%;position:relative;border-radius:100%;overflow:hidden;box-shadow:0 0 0 8px #000;background:#fff}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;background-color:hsla(0,0%,100%,.35);position:absolute;top:0;left:0}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]   .iris[_ngcontent-%COMP%]{position:absolute;transition:all .6s ease,top 10ms ease,left 10ms ease}.viewport[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sclera[_ngcontent-%COMP%]   .lid[_ngcontent-%COMP%]{position:absolute;width:300%;height:100%;left:-100%;background:#000}']}),t})(),Qt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-helmet"]],inputs:{command:"command"},decls:3,vars:1,consts:[[1,"helmet"],["width","1236","height","986","viewBox","0 0 1236 986","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["fill-rule","evenodd","clip-rule","evenodd","d","M287 0C165.497 0 67 98.4971 67 220V258V321.717V326.16C65.5137 326.054 64.0132 326 62.5 326C27.9824 326 0 353.982 0 388.5V659.5C0 694.018 27.9824 722 62.5 722C64.127 722 65.7393 721.938 67.335 721.816C73.686 837.624 169.604 929.574 287 929.574H296.23C316.382 963.366 353.298 986 395.5 986H839.5C881.702 986 918.618 963.366 938.77 929.574H958C1075.39 929.574 1171.3 837.632 1177.67 721.83C1210.28 719.441 1236 692.224 1236 659V389C1236 355.889 1210.46 328.744 1178 326.195V321V220C1178 98.4971 1079.5 0 958 0H287ZM113 305C113 205.589 193.589 125 293 125H618H943C1042.41 125 1123 205.589 1123 305V654.624C1123 744.92 1056.05 821.722 966.254 831.196C712.768 857.94 523.7 857.354 270.31 830.911C180.276 821.515 113 744.621 113 654.099V305Z"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Ub(),r.Mb(1,"svg",1),r.Ib(2,"path",2),r.Lb(),r.Lb()),2&t&&(r.xb(1),r.Wb("ngStyle",e.command.getBodyStyles()))},directives:[qt.k],styles:[".helmet[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;z-index:3}.helmet[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:auto;height:390px}.helmet[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .helmet[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.15,.65,.95,.95)}"]}),t})(),te=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-head"]],inputs:{command:"command"},decls:10,vars:6,consts:[[1,"head",3,"ngStyle"],[1,"wrapper"],[1,"screen",3,"ngStyle"],[1,"face"],[3,"command"],[1,"visor"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"div",1),r.Mb(4,"div",3),r.Ib(5,"app-bot-eye-left",4),r.Ib(6,"app-bot-eye-space",4),r.Ib(7,"app-bot-eye-right",4),r.Lb(),r.Ib(8,"div",5),r.Lb(),r.Lb(),r.Ib(9,"app-bot-helmet",4),r.Lb(),r.Lb()),2&t&&(r.Wb("ngStyle",e.command.getHeadStyles()),r.xb(2),r.Wb("ngStyle",e.command.getScreenStyles()),r.xb(3),r.Wb("command",e.command),r.xb(1),r.Wb("command",e.command),r.xb(1),r.Wb("command",e.command),r.xb(2),r.Wb("command",e.command))},directives:[qt.k,Zt,Xt,Jt,Qt],styles:[".head[_ngcontent-%COMP%]{position:absolute;width:90%;height:53%;top:90px;left:5%}.head[_ngcontent-%COMP%], .head[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.15,.65,.95,.95)}.head[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.head[_ngcontent-%COMP%]   .screen[_ngcontent-%COMP%]{position:absolute;top:14%;left:17%;width:66%;height:72%;border-radius:17%;overflow:hidden}.head[_ngcontent-%COMP%]   .screen[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.head[_ngcontent-%COMP%]   .screen[_ngcontent-%COMP%]   .visor[_ngcontent-%COMP%]{background-image:url(pixel.3e91f6e430f4ab46a506.png);animation:wave .2s ease infinite;z-index:2;position:absolute;top:0;left:0;width:100%;height:100%}"]}),t})(),ee=(()=>{class t{constructor(t){this.eventService=t}ngOnInit(){this.subscription=this.eventService.onMouseMove.subscribe(()=>this.command.inputMousePosition(this.eventService.percentConfig))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Hb($t.a))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-wrapper"]],inputs:{command:"command"},decls:3,vars:3,consts:[[1,"container","floating",3,"ngStyle"],[3,"command"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Ib(1,"app-bot-body",1),r.Ib(2,"app-bot-head",1),r.Lb()),2&t&&(r.Wb("ngStyle",e.command.getContainerStyles()),r.xb(1),r.Wb("command",e.command),r.xb(1),r.Wb("command",e.command))},directives:[qt.k,Kt,te],styles:[".container[_ngcontent-%COMP%]{width:700px;height:100%;overflow:hidden;position:relative;padding-top:140px;display:flex;justify-content:center;box-sizing:border-box;transform-style:preserve-3d}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.15,.65,.95,.95)}.container.floating[_ngcontent-%COMP%]{animation:floating 2s ease infinite}"]}),t})(),ne=(()=>{class t{constructor(t){this.commandService=t,this.command=new N}ngOnInit(){this.subscription=this.commandService.onBotChange.pipe(f(()=>g(400))).subscribe(t=>this.command=t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(Yt))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-bot-container"]],decls:3,vars:1,consts:[[1,"container"],[1,"viewport"],[3,"command"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Ib(2,"app-bot-wrapper",2),r.Lb(),r.Lb()),2&t&&(r.xb(2),r.Wb("command",e.command))},directives:[ee],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.container[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{width:1280px;height:768px}"]}),t})();function oe(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{l(o.next(t))}catch(e){i(e)}}function a(t){try{l(o.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))}class re{constructor(t,e,n,o){this.message=t,this.author=e,this.side=n,this.content=o,this.when=new Date}getTimeSince(){const t=(new Date).getTime(),e=this.when.getTime(),n=Math.floor((t-e)/1e3);return n/86400>1?Math.floor(n/86400)+" days ago":n/3600>1?Math.floor(n/3600)+"  hours ago":n/60>1?Math.floor(n/60)+"  minutes ago":"A few seconds ago"}}var ie=n("tk/3");let se=(()=>{class t{constructor(t,e){this.httpClient=t,this.commandService=e,this.onMessage=new Ft.a,this.onError=new Ft.a}input(t){return oe(this,void 0,void 0,(function*(){console.log(t),this.propagateMessage(t,"you","right","standard"),this.propagateMessage(t,"enbot","left","standard"),this.propagateMessage(t,"enbot","left","warning"),this.propagateMessage(t,"enbot","left","danger")}))}propagateMessage(t,e,n,o="standard"){const r=new re(t,e,n,o);this.onMessage.next(r)}inputChatMessage(t){return new Promise((e,n)=>{this.httpClient.post("http://localhost:3000/emotion/predict",t).subscribe(t=>e(t),t=>n(t))})}inputChatEmotion(t){return new Promise((t,e)=>{t({message:"xesque"})})}serializeEmotionRequest(t){return{message:t}}serializeMessageRequest(t,e){return{message:t,emotion:e}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ie.a),r.Pb(Yt))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ae=["chat"],le=function(t){return["message",t]},ce=function(t){return["balloon",t]},he=function(t){return["content",t]};function ue(t,e){if(1&t&&(r.Mb(0,"div",3),r.Mb(1,"div",4),r.Ib(2,"div",5),r.Mb(3,"div",4),r.Mb(4,"div",6),r.Mb(5,"span",7),r.ec(6),r.Lb(),r.Lb(),r.Mb(7,"div",8),r.ec(8),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t){const t=e.$implicit;r.Wb("ngClass",r.Xb(8,le,t.message.side)),r.xb(1),r.Wb("ngClass",r.Xb(10,ce,t.command.getBalloonClasses()))("ngStyle",t.command.getBalloonStyles()),r.xb(1),r.Wb("ngStyle",t.command.getCornerStyles()),r.xb(1),r.Wb("ngClass",r.Xb(12,he,t.command.getContentClasses()))("ngStyle",t.command.getContentStyles()),r.xb(3),r.fc(" ",t.message.getTimeSince()," "),r.xb(2),r.fc(" ",t.message.message," ")}}let de=(()=>{class t{constructor(t,e){this.chatService=t,this.commandService=e,this.balloons=[]}ngOnInit(){this.sendSubscription=this.chatService.onMessage.subscribe(t=>this.handleNewChatMessage(t)),this.errorSubscription=this.chatService.onError.subscribe(t=>this.handleChatError(t))}handleNewChatMessage(t){const e=this.commandService.resolveCommand("chat",t.content),n=this.commandService.resolveInstance(e).instance;this.balloons.push({message:t,command:n}),this.scrollToBottom()}handleChatError(t){console.log("error")}scrollToBottom(){const t=this.chat.nativeElement,e=t.scrollHeight;setTimeout(()=>t.scroll({top:e,behavior:"smooth",left:0}),100)}ngOnDestroy(){(this.receiveSubscription||this.sendSubscription||this.errorSubscription)&&(this.receiveSubscription.unsubscribe(),this.sendSubscription.unsubscribe(),this.errorSubscription.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(se),r.Hb(Yt))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-chat-messages"]],viewQuery:function(t,e){var n;1&t&&r.cc(ae,!0),2&t&&r.Yb(n=r.Tb())&&(e.chat=n.first)},decls:3,vars:1,consts:[[1,"messages"],["chat",""],["ngFor","",3,"ngForOf"],[3,"ngClass"],[3,"ngClass","ngStyle"],[1,"corner",3,"ngStyle"],[1,"header"],[1,"when"],[1,"message"]],template:function(t,e){1&t&&(r.Mb(0,"div",0,1),r.dc(2,ue,9,14,"ng-template",2),r.Lb()),2&t&&(r.xb(2),r.Wb("ngForOf",e.balloons))},directives:[qt.i,qt.h,qt.k],styles:[".messages[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;overflow-y:scroll}.messages[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all 1s ease}.messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:hsla(0,0%,100%,.2)}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:initial;border-radius:6px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:hsla(0,0%,100%,.4)}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;display:flex;align-items:center}.messages[_ngcontent-%COMP%]   .message.right[_ngcontent-%COMP%]{padding-right:30px;justify-content:flex-end}.messages[_ngcontent-%COMP%]   .message.right[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{right:-20px;top:0}.messages[_ngcontent-%COMP%]   .message.right[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{justify-content:flex-end}.messages[_ngcontent-%COMP%]   .message.left[_ngcontent-%COMP%]{padding-left:30px;justify-content:flex-start}.messages[_ngcontent-%COMP%]   .message.left[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{right:calc(100% + -20px);top:0}.messages[_ngcontent-%COMP%]   .message.left[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{justify-content:flex-start}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;position:relative;min-width:170px;max-width:75%;height:100%;margin:8px 0;border-radius:5px;box-shadow:0 0 35px -23px #000}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;height:0;width:0;border-top-style:solid;border-top-width:20px;border-bottom:20px solid transparent;border-left:20px solid transparent;border-right:20px solid transparent}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:4px 10px;display:flex;align-items:center}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .when[_ngcontent-%COMP%]{font-style:italic;font-size:12px;opacity:.8}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .balloon[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:4px 10px;text-align:justify}"]}),t})();var ge=n("lJxs"),pe=n("XoHu"),be=n("Cfvw");function me(t,e){return new i.a(n=>{const o=t.length;if(0===o)return void n.complete();const r=new Array(o);let i=0,s=0;for(let a=0;a<o;a++){const l=Object(be.a)(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{i++,i!==o&&c||(s===o&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const fe=new r.q("NgValueAccessor"),Ce={provide:fe,useExisting:Object(r.S)(()=>_e),multi:!0};let _e=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l))},t.\u0275dir=r.Cb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.wb([Ce])]}),t})();const ye={provide:fe,useExisting:Object(r.S)(()=>Oe),multi:!0},ve=new r.q("CompositionEventMode");let Oe=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(qt.q)()?Object(qt.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l),r.Hb(ve,8))},t.\u0275dir=r.Cb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.wb([ye])]}),t})(),we=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Cb({type:t}),t})(),Me=(()=>{class t extends we{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Pe(e||t)},t.\u0275dir=r.Cb({type:t,features:[r.ub]}),t})();const Pe=r.Nb(Me);function xe(){throw new Error("unimplemented")}class Ee extends we{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return xe()}get asyncValidator(){return xe()}}let Se=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(Ee,2))},t.\u0275dir=r.Cb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.zb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.ub]}),t})();function Le(t){return null==t||0===t.length}function Ve(t){return null!=t&&"number"==typeof t.length}const Ie=new r.q("NgValidators"),Ae=new r.q("NgAsyncValidators"),Ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ke{static min(t){return e=>{if(Le(e.value)||Le(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Le(e.value)||Le(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Le(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Le(t.value)||Ne.test(t.value)?null:{email:!0}}static minLength(t){return e=>Le(e.value)||!Ve(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ve(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ke.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Le(t.value))return null;const o=t.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(De);return 0==e.length?null:function(t){return Be(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(De);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(d.a)(e))return me(e,null);if(Object(pe.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return me(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return me(t=1===t.length&&Object(d.a)(t[0])?t[0]:t,null).pipe(Object(ge.a)(t=>e(...t)))}return me(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Te)).pipe(Object(ge.a)(Be))}}}function De(t){return null!=t}function Te(t){const e=Object(r.pb)(t)?Object(be.a)(t):t;if(!Object(r.ob)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Be(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function We(t){return t.validate?e=>t.validate(e):t}function Ge(t){return t.validate?e=>t.validate(e):t}const He={provide:fe,useExisting:Object(r.S)(()=>Re),multi:!0};let Re=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l))},t.\u0275dir=r.Cb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.wb([He])]}),t})();const je={provide:fe,useExisting:Object(r.S)(()=>Ue),multi:!0};let ze=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac}),t})(),Ue=(()=>{class t{constructor(t,e,n,o){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=o,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ee),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l),r.Hb(ze),r.Hb(r.r))},t.\u0275dir=r.Cb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.wb([je])]}),t})();const Fe={provide:fe,useExisting:Object(r.S)(()=>Ye),multi:!0};let Ye=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l))},t.\u0275dir=r.Cb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.wb([Fe])]}),t})();const $e='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',qe='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ke={provide:fe,useExisting:Object(r.S)(()=>Ze),multi:!0};let Ze=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l))},t.\u0275dir=r.Cb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.wb([Ke])]}),t})();const Xe={provide:fe,useExisting:Object(r.S)(()=>Je),multi:!0};let Je=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const o=t.item(e),r=this._getOptionValue(o.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const o=t.item(e);if(o.selected){const t=this._getOptionValue(o.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(r.D),r.Hb(r.l))},t.\u0275dir=r.Cb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.wb([Xe])]}),t})();function Qe(t,e){return[...e.path,t]}function tn(t,e){t||nn(e,"Cannot find control with"),e.valueAccessor||nn(e,"No value accessor for form control with"),t.validator=ke.compose([t.validator,e.validator]),t.asyncValidator=ke.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&en(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&en(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function en(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nn(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function on(t){return null!=t?ke.compose(t.map(We)):null}function rn(t){return null!=t?ke.composeAsync(t.map(Ge)):null}const sn=[_e,Ye,Re,Ze,Je,Ue];function an(t){const e=cn(t)?t.validators:t;return Array.isArray(e)?on(e):e||null}function ln(t,e){const n=cn(e)?e.asyncValidators:t;return Array.isArray(n)?rn(n):n||null}function cn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hn{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=an(t)}setAsyncValidators(t){this.asyncValidator=ln(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Te(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let o=t;return e.forEach(t=>{o=o instanceof dn?o.controls.hasOwnProperty(t)?o.controls[t]:null:o instanceof gn&&o.at(t)||null}),o}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class un extends hn{constructor(t=null,e,n){super(an(e),ln(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class dn extends hn{constructor(t,e,n){super(an(e),ln(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof un?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,o)=>{n=e(n,t,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class gn extends hn{constructor(t,e,n){super(an(e),ln(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof un?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const pn={provide:Me,useExisting:Object(r.S)(()=>mn)},bn=(()=>Promise.resolve(null))();let mn=(()=>{class t extends Me{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new dn({},on(t),rn(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bn.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),tn(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){bn.then(()=>{const e=this._findContainer(t.path),n=new dn({});(function(t,e){null==t&&nn(e,"Cannot find control with"),t.validator=ke.compose([t.validator,e.validator]),t.asyncValidator=ke.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){bn.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(Ie,10),r.Hb(Ae,10))},t.\u0275dir=r.Cb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.wb([pn]),r.ub]}),t})(),fn=(()=>{class t extends Me{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return on(this._validators)}get asyncValidator(){return rn(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Cn(e||t)},t.\u0275dir=r.Cb({type:t,features:[r.ub]}),t})();const Cn=r.Nb(fn);class _n{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${$e}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${qe}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${$e}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${qe}`)}}const yn={provide:Me,useExisting:Object(r.S)(()=>vn)};let vn=(()=>{class t extends fn{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof mn||_n.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(Me,5),r.Hb(Ie,10),r.Hb(Ae,10))},t.\u0275dir=r.Cb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.wb([yn]),r.ub]}),t})();const On={provide:Ee,useExisting:Object(r.S)(()=>Mn)},wn=(()=>Promise.resolve(null))();let Mn=(()=>{class t extends Ee{constructor(t,e,n,o){super(),this.control=new un,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||nn(t,"Value accessor was not provided as an array for form control with");let n=void 0,o=void 0,r=void 0;return e.forEach(e=>{var i;e.constructor===Oe?n=e:(i=e,sn.some(t=>i.constructor===t)?(o&&nn(t,"More than one built-in value accessor matches form control with"),o=e):(r&&nn(t,"More than one custom value accessor matches form control with"),r=e))}),r||o||n||(nn(t,"No valid value accessor for form control with"),null)}(this,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Qe(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return on(this._rawValidators)}get asyncValidator(){return rn(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof vn)&&this._parent instanceof fn?_n.formGroupNameException():this._parent instanceof vn||this._parent instanceof mn||_n.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||_n.missingNameException()}_updateValue(t){wn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;wn.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(Me,9),r.Hb(Ie,10),r.Hb(Ae,10),r.Hb(fe,10))},t.\u0275dir=r.Cb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.wb([On]),r.ub,r.vb]}),t})();const Pn=new r.q("NgModelWithFormControlWarning"),xn={provide:Ie,useExisting:Object(r.S)(()=>En),multi:!0};let En=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?ke.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Cb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.yb("required",e.required?"":null)},inputs:{required:"required"},features:[r.wb([xn])]}),t})(),Sn=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)}}),t})(),Ln=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let o=null,r=null,i=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(o=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(o=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new dn(n,{asyncValidators:r,updateOn:i,validators:o})}control(t,e,n){return new un(t,e,n)}array(t,e,n){const o=t.map(t=>this._createControl(t));return new gn(o,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof un||t instanceof dn||t instanceof gn?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac}),t})(),Vn=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},providers:[ze],imports:[Sn]}),t})(),In=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Pn,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},providers:[Ln,ze],imports:[Sn]}),t})();const An=function(t){return{input:!0,disabled:t}},Nn=function(t){return{submit:!0,disabled:t}};let kn=(()=>{class t{constructor(t){this.chatService=t}ngOnInit(){this.enableChat()}send(){return oe(this,void 0,void 0,(function*(){const t=this.message;t&&(this.disableChat(),yield this.chatService.input(t),this.enableChat())}))}enableChat(){this.message="",this.disabled=!1,this.placeholder="Send a message..."}disableChat(){this.message="",this.disabled=!0,this.placeholder="Waiting..."}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(se))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-chat-controls"]],decls:5,vars:9,consts:[[1,"controls"],[1,"input-wrapper"],["type","text","required","",3,"ngClass","ngModel","ngModelChange"],[1,"submit-wrapper"],[3,"ngClass","click"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"input",2),r.Sb("ngModelChange",(function(t){return e.message=t})),r.Lb(),r.Lb(),r.Mb(3,"div",3),r.Mb(4,"button",4),r.Sb("click",(function(){return e.send()})),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.xb(2),r.Wb("ngClass",r.Xb(5,An,e.disabled))("ngModel",e.message),r.yb("disabled",e.disabled?"":null)("placeholder",e.placeholder),r.xb(2),r.Wb("ngClass",r.Xb(7,Nn,e.disabled)))},directives:[Oe,En,qt.h,Se,Mn],styles:['.controls[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;width:100%;height:100%}.controls[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;padding:3px}.controls[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:calc(100% - 135px)}.controls[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;border-radius:5px;border:1px solid hsla(0,0%,100%,.01);height:100%;background-color:#eee;box-sizing:border-box;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:15px;border-bottom-left-radius:15px;padding-left:13px;outline:0!important;font-size:17px;color:#202020}.controls[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input.disabled[_ngcontent-%COMP%]{background:#c1c1c1;color:#9b9b9b}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]{width:135px}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{height:100%;width:100%;position:relative;border:none;margin:0;font-size:1rem;border-top-right-radius:15px;border-bottom-right-radius:15px;cursor:pointer;text-align:center;-webkit-appearance:none;-moz-appearance:none;outline:none!important;border:none!important}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:after{content:"send";border-top-right-radius:15px;border-bottom-right-radius:15px;text-transform:uppercase;width:97%;height:94%;display:flex;align-items:center;justify-content:center;position:absolute;left:1.5%;top:3%}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit.disabled[_ngcontent-%COMP%]{background:#4a4a4a;cursor:wait}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit.disabled[_ngcontent-%COMP%]:after{background-color:#b1b1b1;color:#545454;font-size:1.1rem}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(.disabled){color:#fff;background-image:linear-gradient(90deg,#d90429,#e76f51 15%,#e9c46a 30%,#02c39a 45%,#3a86ff 50%,#d90429)}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(.disabled):focus, .controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(.disabled):hover{animation:runRainbow 1s linear infinite}@keyframes runRainbow{to{background-position:-129px}}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(.disabled):after{background-color:#191919;color:#fff;font-size:1.3rem}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(.disabled):focus{outline:none!important;outline-offset:-4px}.controls[_ngcontent-%COMP%]   .submit-wrapper[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(.disabled):active{transform:scale(.97)}']}),t})(),Dn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-chat-wrapper"]],decls:6,vars:0,consts:[[1,"wrapper"],[1,"chat"],[1,"messages"],[1,"controls"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Ib(3,"app-chat-messages"),r.Lb(),r.Mb(4,"div",3),r.Ib(5,"app-chat-controls"),r.Lb(),r.Lb(),r.Lb())},directives:[de,kn],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;align-items:center;padding:0 30px}.wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{height:100%;display:flex;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{width:50%;flex-direction:column;position:relative}.wrapper[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]{height:calc(100% - (55px + 10px));width:100%}.wrapper[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{margin-top:10px;width:100%;height:55px}"]}),t})(),Tn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-chat-container"]],decls:3,vars:0,consts:[[1,"container"],[1,"viewport"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Ib(2,"app-chat-wrapper"),r.Lb(),r.Lb())},directives:[Dn],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.container[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px 0;width:100vw;height:100vh;max-width:1280px;max-height:768px}"]}),t})(),Bn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-wallpaper-transition"]],inputs:{command:"command"},decls:1,vars:0,consts:[[1,"transition"]],template:function(t,e){1&t&&r.Ib(0,"div",0)},styles:[".transition[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})(),Wn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-wallpaper-background"]],inputs:{command:"command"},decls:1,vars:1,consts:[[1,"background",3,"ngStyle"]],template:function(t,e){1&t&&r.Ib(0,"div",0),2&t&&r.Wb("ngStyle",e.command.getBackgroundStyles())},directives:[qt.k],styles:[".background[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})(),Gn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-wallpaper-image"]],inputs:{command:"command"},decls:1,vars:1,consts:[[1,"image",3,"ngStyle"]],template:function(t,e){1&t&&r.Ib(0,"div",0),2&t&&r.Wb("ngStyle",e.command.getImageStyles())},directives:[qt.k],styles:[".image[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})(),Hn=(()=>{class t{constructor(){}ngOnInit(){}getBackgroundFromMetadata(){return{fill:this.command.metadata.color}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-wallpaper-engine"]],inputs:{command:"command"},decls:53,vars:4,consts:[[1,"background"],["width","580","height","580","viewBox","0 0 580 580","xmlns","http://www.w3.org/2000/svg",1,"gear","gear-1",3,"ngStyle"],["filter","url(#shadow-gear-1)"],["d","M354.79 117.648L342.481 135.528C330.287 131.392 317.78 128.792 305.205 127.675L301.378 106.524C299.828 97.9167 291.559 92.2242 282.963 93.8343L226.99 104.354C218.467 105.95 212.842 114.122 214.384 122.647L218.259 144.011C206.909 149.618 196.133 156.599 186.199 164.88L168.518 152.709C161.351 147.774 151.533 149.586 146.599 156.754L114.144 203.897C109.21 211.065 111.021 220.882 118.189 225.817L135.868 237.987C131.666 250.241 129.003 262.781 127.805 275.401L106.486 279.397C97.9718 280.999 92.3461 289.171 93.8886 297.696L104.04 353.737C105.605 362.343 113.872 368.035 122.461 366.419L143.585 362.444C149.122 373.784 156.009 384.547 164.219 394.472L151.922 412.334C146.988 419.502 148.791 429.313 155.967 434.253L202.622 466.372C209.79 471.306 219.607 469.495 224.542 462.327L236.838 444.464C249.031 448.586 261.552 451.183 274.113 452.303L277.94 473.454C279.505 482.06 287.772 487.751 296.361 486.135L352.334 475.616C360.848 474.014 366.474 465.842 364.923 457.311L361.055 435.976C372.417 430.351 383.181 423.387 393.144 415.102L410.815 427.266C414.656 429.911 419.252 430.618 423.446 429.592C427.105 428.726 430.444 426.548 432.734 423.222L465.189 376.078C470.123 368.91 468.312 359.093 461.144 354.158L443.473 341.994C447.645 329.746 450.32 317.187 451.508 304.584L472.735 300.59L472.838 300.571C481.352 298.97 486.978 290.798 485.435 282.272L480.288 253.842L475.279 226.24C473.727 217.631 465.46 211.94 456.858 213.558L435.733 217.533C430.211 206.19 423.309 195.43 415.101 185.52L427.41 167.64C431.377 161.879 430.988 154.405 426.951 149.129C425.968 147.847 424.77 146.689 423.365 145.721L376.71 113.603C369.533 108.663 359.724 110.481 354.79 117.648ZM349.251 331.006C347.695 333.267 346.034 335.419 344.267 337.444C320.388 365.027 279.154 370.868 248.509 349.772C215.595 327.113 207.343 281.98 230.074 248.961C252.805 215.942 297.9 207.56 330.813 230.218C340.949 237.196 348.751 246.311 354.025 256.556C365.871 279.537 364.974 308.168 349.251 331.006Z"],["d","M402.527 289.988C402.526 227.654 352 177.128 289.666 177.128C229.208 177.128 179.86 224.675 176.966 284.422C176.871 286.266 176.828 288.121 176.828 289.986C176.828 350.687 224.758 400.206 284.833 402.729C286.434 402.803 288.044 402.835 289.667 402.835C352.001 402.837 402.527 352.31 402.527 289.988ZM255.146 353.752C232.613 341.478 217.328 317.524 217.328 289.987C217.328 287.242 217.477 284.528 217.784 281.868L217.784 281.858C221.812 245.598 252.463 217.405 289.667 217.405C329.626 217.405 362.016 249.901 362.017 289.988C362.017 330.075 329.626 362.55 289.668 362.55C277.362 362.55 265.767 359.466 255.613 354.018C255.454 353.933 255.294 353.837 255.146 353.752Z"],["id","shadow-gear-1","x","6.10352e-05","y","0.00012207","width","579.333","height","579.975","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"],["stdDeviation","10"],["type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow","result","shape"],["width","337","height","335","viewBox","0 0 337 335","xmlns","http://www.w3.org/2000/svg",1,"gear","gear-2",3,"ngStyle"],["filter","url(#shadow-gear-2)"],["d","M20 145.769L20 188.927C20 195.559 25.377 200.936 32.009 200.936L48.544 200.936C51.217 210.373 54.992 219.348 59.722 227.716L48.1 239.26C43.372 243.956 43.372 251.602 48.099 256.298L78.882 286.885C83.565 291.538 91.126 291.538 95.809 286.886L107.542 275.231C115.967 279.927 124.999 283.679 134.491 286.329L134.491 302.684C134.491 309.316 139.868 314.693 146.5 314.693L190.107 314.693C196.739 314.693 202.116 309.316 202.116 302.684L202.116 286.329C211.62 283.678 220.64 279.926 229.076 275.231L240.798 286.881C245.481 291.535 253.044 291.536 257.727 286.882L288.508 256.297C293.235 251.6 293.233 243.954 288.507 239.259L276.885 227.715C281.615 219.347 285.388 210.371 288.073 200.935L304.597 200.935C311.229 200.935 316.606 195.558 316.606 188.926L316.606 145.768C316.606 139.136 311.229 133.759 304.597 133.759L288.073 133.759C285.388 124.322 281.614 115.347 276.885 106.979L288.506 95.436C293.234 90.74 293.234 83.093 288.506 78.397L257.727 47.821C253.043 43.168 245.481 43.169 240.799 47.823L229.076 59.474C220.64 54.767 211.619 51.026 202.116 48.353L202.116 32.009C202.116 25.377 196.739 20 190.107 20L146.499 20C139.867 20 134.49 25.377 134.49 32.009L134.49 48.353C124.998 51.026 115.966 54.767 107.541 59.474L95.807 47.818C91.124 43.166 83.564 43.167 78.881 47.818L48.1 78.396C43.372 83.093 43.372 90.739 48.1 95.435L59.721 106.978C54.991 115.346 51.218 124.322 48.543 133.758L32.008 133.758C25.377 133.76 20 139.136 20 145.769ZM168.302 112.226C198.845 112.226 223.604 136.905 223.604 167.347C223.604 197.789 198.845 222.468 168.302 222.468C137.759 222.468 113.012 197.789 113.012 167.347C113.012 136.905 137.759 112.226 168.302 112.226Z"],["d","M168.302 253.337C215.796 253.337 254.293 214.841 254.293 167.347C254.293 119.864 215.797 81.367 168.302 81.367C120.819 81.367 82.322 119.863 82.322 167.347C82.323 214.841 120.819 253.337 168.302 253.337ZM168.302 112.226C198.845 112.226 223.604 136.905 223.604 167.347C223.604 197.789 198.845 222.468 168.302 222.468C137.759 222.468 113.012 197.789 113.012 167.347C113.012 136.905 137.759 112.226 168.302 112.226Z"],["id","shadow-gear-2","x","0","y","0","width","336.606","height","334.693","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["width","552","height","552","viewBox","0 0 552 552","xmlns","http://www.w3.org/2000/svg",1,"gear","gear-3",3,"ngStyle"],["filter","url(#shadow-gear-3)"],["d","M502.16 308.51L532 303.83V248.17L502.16 243.49C477.6 239.35 468.97 206.82 488.17 191.04L510.69 172.49L482.98 124.51L455.42 134.83C432.09 143.57 408.42 119.93 417.17 96.58L427.49 69.02L379.51 41.31L360.96 63.83C345.21 82.99 312.66 74.44 308.51 49.84L303.83 20H248.17L243.49 49.84C239.32 74.4 206.82 83.03 191.04 63.83L172.49 41.31L124.51 69.02L134.83 96.58C143.57 119.91 119.93 143.58 96.58 134.83L69.02 124.51L41.31 172.49L63.83 191.04C82.95 206.78 74.5 239.33 49.84 243.49L20 248.17V303.83L49.84 308.51C74.3 312.66 83.1 345.1 63.83 360.96L41.31 379.51L69.02 427.49L96.58 417.17C119.8 408.47 143.62 431.98 134.83 455.42L124.51 482.98L172.49 510.69L191.04 488.17C206.77 469.06 239.31 477.5 243.49 502.16L248.17 532H303.83L308.51 502.16C312.63 477.76 345.07 468.86 360.96 488.17L379.51 510.69L427.49 482.98L417.17 455.42C408.47 432.2 431.98 408.38 455.42 417.17L482.98 427.49L510.69 379.51L488.17 360.96C469.01 345.2 477.56 312.68 502.16 308.51V308.51ZM276 401C207.07 401 151 344.93 151 276C151 207.07 207.07 151 276 151C344.93 151 401 207.07 401 276C401 344.93 344.93 401 276 401Z"],["d","M276 141C201.56 141 141 201.56 141 276C141 350.44 201.56 411 276 411C350.44 411 411 350.44 411 276C411 201.56 350.44 141 276 141ZM276 351C234.65 351 201 317.36 201 276C201 234.64 234.65 201 276 201C317.35 201 351 234.64 351 276C351 317.36 317.35 351 276 351Z"],["id","shadow-gear-3","x","0","y","0","width","552","height","552","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["width","337","height","335","viewBox","0 0 337 335","xmlns","http://www.w3.org/2000/svg",1,"gear","gear-4",3,"ngStyle"],["filter","url(#shadow-gear-4)"],["id","shadow-gear-4","x","0","y","0","width","336.606","height","334.693","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Ub(),r.Mb(1,"svg",1),r.Mb(2,"g",2),r.Ib(3,"path",3),r.Ib(4,"path",4),r.Lb(),r.Mb(5,"defs"),r.Mb(6,"filter",5),r.Ib(7,"feFlood",6),r.Ib(8,"feColorMatrix",7),r.Ib(9,"feOffset"),r.Ib(10,"feGaussianBlur",8),r.Ib(11,"feColorMatrix",9),r.Ib(12,"feBlend",10),r.Ib(13,"feBlend",11),r.Lb(),r.Lb(),r.Lb(),r.Mb(14,"svg",12),r.Mb(15,"g",13),r.Ib(16,"path",14),r.Ib(17,"path",15),r.Lb(),r.Mb(18,"defs"),r.Mb(19,"filter",16),r.Ib(20,"feFlood",6),r.Ib(21,"feColorMatrix",7),r.Ib(22,"feOffset"),r.Ib(23,"feGaussianBlur",8),r.Ib(24,"feColorMatrix",9),r.Ib(25,"feBlend",10),r.Ib(26,"feBlend",11),r.Lb(),r.Lb(),r.Lb(),r.Mb(27,"svg",17),r.Mb(28,"g",18),r.Ib(29,"path",19),r.Ib(30,"path",20),r.Lb(),r.Mb(31,"defs"),r.Mb(32,"filter",21),r.Ib(33,"feFlood",6),r.Ib(34,"feColorMatrix",7),r.Ib(35,"feOffset"),r.Ib(36,"feGaussianBlur",8),r.Ib(37,"feColorMatrix",9),r.Ib(38,"feBlend",10),r.Ib(39,"feBlend",11),r.Lb(),r.Lb(),r.Lb(),r.Mb(40,"svg",22),r.Mb(41,"g",23),r.Ib(42,"path",14),r.Ib(43,"path",15),r.Lb(),r.Mb(44,"defs"),r.Mb(45,"filter",24),r.Ib(46,"feFlood",6),r.Ib(47,"feColorMatrix",7),r.Ib(48,"feOffset"),r.Ib(49,"feGaussianBlur",8),r.Ib(50,"feColorMatrix",9),r.Ib(51,"feBlend",10),r.Ib(52,"feBlend",11),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.xb(1),r.Wb("ngStyle",e.getBackgroundFromMetadata()),r.xb(13),r.Wb("ngStyle",e.getBackgroundFromMetadata()),r.xb(13),r.Wb("ngStyle",e.getBackgroundFromMetadata()),r.xb(13),r.Wb("ngStyle",e.getBackgroundFromMetadata()))},directives:[qt.k],styles:[".background[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(0,0,0,.3),rgba(0,0,0,.2) 35%,rgba(0,0,0,.01));position:relative;width:100%;height:100%}.background[_ngcontent-%COMP%]   .gear[_ngcontent-%COMP%]{position:absolute;transform:rotate(0deg);height:auto}.background[_ngcontent-%COMP%]   .gear.gear-1[_ngcontent-%COMP%]{width:50vw;top:-10vw;right:-30px;animation:rotate 15s linear infinite;z-index:1}.background[_ngcontent-%COMP%]   .gear.gear-2[_ngcontent-%COMP%]{width:25vw;top:50vh;right:25vw;animation:rotate 10s linear infinite;z-index:2}.background[_ngcontent-%COMP%]   .gear.gear-3[_ngcontent-%COMP%]{width:100vw;top:-120vh;left:-57vw;animation:rotate 30s linear infinite;z-index:4}.background[_ngcontent-%COMP%]   .gear.gear-4[_ngcontent-%COMP%]{width:200vw;top:20vh;left:-57vw;animation:rotate 30s linear infinite;z-index:3}"]}),t})();function Rn(t,e){if(1&t&&(r.Kb(0),r.Ib(1,"app-wallpaper-image",2),r.Jb()),2&t){const t=r.Vb();r.xb(1),r.Wb("command",t.command)}}function jn(t,e){if(1&t&&(r.Kb(0),r.Ib(1,"app-wallpaper-engine",2),r.Jb()),2&t){const t=r.Vb();r.xb(1),r.Wb("command",t.command)}}let zn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-wallpaper-wrapper"]],inputs:{command:"command"},decls:8,vars:4,consts:[[1,"wrapper"],[1,"transition"],[3,"command"],[1,"background"],[1,"component"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Ib(2,"app-wallpaper-transition",2),r.Lb(),r.Mb(3,"div",3),r.Ib(4,"app-wallpaper-background",2),r.Lb(),r.Mb(5,"div",4),r.dc(6,Rn,2,1,"ng-container",5),r.dc(7,jn,2,1,"ng-container",5),r.Lb(),r.Lb()),2&t&&(r.xb(2),r.Wb("command",e.command),r.xb(2),r.Wb("command",e.command),r.xb(2),r.Wb("ngIf","image"===e.command.component.wallpaper),r.xb(1),r.Wb("ngIf","engine"===e.command.component.wallpaper))},directives:[Bn,Wn,qt.j,Gn,Hn],styles:[".wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{box-sizing:border-box}.wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.wrapper[_ngcontent-%COMP%]   .transition[_ngcontent-%COMP%]{z-index:3}.wrapper[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]{z-index:2}.wrapper[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{z-index:1}"]}),t})(),Un=(()=>{class t{constructor(t){this.commandService=t,this.command=new Ut}ngOnInit(){this.subscription=this.commandService.onWallpaperChange.pipe(f(()=>g(400))).subscribe(t=>this.command=t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(Yt))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-wallpaper-container"]],decls:2,vars:1,consts:[[1,"container"],[3,"command"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Ib(1,"app-wallpaper-wrapper",1),r.Lb()),2&t&&(r.xb(1),r.Wb("command",e.command))},directives:[zn],styles:[".container[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;width:100%;height:100%}"]}),t})();const Fn=[{path:"",children:[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-chat"]],decls:7,vars:0,consts:[[1,"container"],[1,"bot"],[1,"chat"],[1,"wallpaper"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Ib(2,"app-bot-container"),r.Lb(),r.Mb(3,"div",2),r.Ib(4,"app-chat-container"),r.Lb(),r.Mb(5,"div",3),r.Ib(6,"app-wallpaper-container"),r.Lb(),r.Lb())},directives:[ne,Tn,Un],styles:[".container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:absolute;top:0;left:0}.container[_ngcontent-%COMP%]   .wallpaper[_ngcontent-%COMP%]{z-index:1}.container[_ngcontent-%COMP%]   .bot[_ngcontent-%COMP%]{z-index:2}.container[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{z-index:3}"]}),t})()}]}];let Yn=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},imports:[[o.a.forChild(Fn)],o.a]}),t})(),$n=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},imports:[[qt.b,Vn,In],qt.b,Vn,In]}),t})(),qn=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},imports:[[Yn,$n]]}),t})()}}]);